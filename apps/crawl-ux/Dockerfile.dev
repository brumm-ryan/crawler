# Development Dockerfile for crawl-ux with hot reloading
FROM node:22-alpine

# Enable pnpm
RUN corepack enable \
    && corepack prepare pnpm@9.15.0 --activate

WORKDIR /app

# Expose port for Vite dev server
EXPOSE 3000

# Set working directory to the app
WORKDIR /app/apps/crawl-ux

# Install dependencies and start development server with hot reloading
CMD ["sh", "-c", "cd /app && pnpm install --filter crawl-ux && cd apps/crawl-ux && pnpm dev --host"]